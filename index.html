<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hunted</title>
  <meta name="theme-color" content="#0f1115"/>
  <link rel="stylesheet" href="style.css" />
</head>
<body class="dark">
  <header class="app-header">
    <!-- Header logo (hidden on Home by JS) -->
    <button id="logoBtn" class="brand" aria-label="Go home" type="button">
      <img src="logo.png" alt="Hunted logo" class="logo" />
    </button>
  </header>

  <main class="container">
    <!-- Home Screen -->
    <section id="screen-home" class="screen active">
      <div class="card hero">
        <img src="logo.png" alt="Hunted logo" class="home-logo" />
        <div class="actions actions-center">
          <button id="btnHost" class="primary" type="button">Host New Game</button>
          <button id="btnJoin" class="secondary" type="button">Join Game</button>
          <button id="btnQuickRules" class="ghost" type="button">Quick Rules</button>
        </div>
      </div>
    </section>

    <!-- Host Spinner Screen -->
    <section id="screen-host" class="screen">
      <div class="card">
        <h2>Choose the Hunter</h2>
        <div class="spinner-wrap">
          <div class="spinner" aria-label="Player selector">
            <!-- Static dial with ticks -->
            <div class="spinner-face">
              <div class="ring"></div>
              <div class="tick t1"></div><div class="tick t2"></div><div class="tick t3"></div><div class="tick t4"></div>
              <div class="tick t5"></div><div class="tick t6"></div><div class="tick t7"></div><div class="tick t8"></div>
              <div class="tick t9"></div><div class="tick t10"></div><div class="tick t11"></div><div class="tick t12"></div>
              <div class="centre-cap"></div>
            </div>
            <!-- Rotating arrow (rotor spins) -->
            <div id="arrowRotor" class="arrow-rotor">
              <div class="arrow"></div>
            </div>
          </div>
        </div>
        <div class="actions actions-center">
          <button id="btnSpin" class="primary" type="button">Spin</button>
          <button id="btnHostBack" class="ghost" type="button">Back</button>
        </div>
      </div>
    </section>

    <!-- Join: Slot Spinner -->
    <section id="screen-join" class="screen">
      <div class="card">
        <h2>Set Your Interval</h2>
        <p class="muted small">One roll only during a game. Going Home starts a new game and lets you roll again.</p>

        <div class="slot-wrap">
          <div class="slot">
            <div class="slot-label">min</div>
            <div id="slotMin" class="slot-value">0</div>
          </div>
          <div class="slot colon">:</div>
          <div class="slot">
            <div class="slot-label">sec</div>
            <div class="slot-value">
              <span id="slotSecT">0</span><span id="slotSecO">0</span>
            </div>
          </div>
        </div>

        <div class="actions actions-center">
          <button id="btnSlotSpin" class="primary" type="button">Spin</button>
          <button id="btnSlotContinue" class="secondary" type="button" disabled>Continue</button>
          <button id="btnJoinBack" class="ghost" type="button">Back</button>
        </div>

        <div class="actions actions-center">
          <button id="btnJoinTestBeep" class="ghost" type="button">Test beep</button>
        </div>
      </div>
    </section>

    <!-- Timer Screen -->
    <section id="screen-timer" class="screen">
      <div class="card timer-card">
        <div id="countdown" class="countdown">00:30</div>
        <div class="actions prestart actions-center">
          <button id="btnTimerTestBeep" class="ghost" type="button">Test beep</button>
          <button id="btnStart" class="primary" type="button">Start</button>
        </div>
      </div>
    </section>
  </main>

  <!-- Quick Rules Modal -->
  <div id="modal" class="modal" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal-backdrop" data-close></div>
    <div class="modal-card" role="document">
      <header class="modal-header">
        <h3 id="modalTitle">Quick Rules</h3>
        <button class="ghost close" data-close aria-label="Close" type="button">✕</button>
      </header>
      <div class="modal-body">
        <ol>
          <li>4+ players, confined space, walking only.</li>
          <li>Host: <em>Host New Game → Spin</em> to pick the Hunter.</li>
          <li>Prey: <em>Join Game → Spin</em> for a random 0:00–2:00 interval.</li>
          <li>Press <em>Start</em> to begin your timer. Your roll is final for this game.</li>
          <li>Final 10 seconds are red; the phone beeps at 0 and repeats.</li>
        </ol>
      </div>
      <footer class="modal-footer">
        <button class="primary" data-close type="button">Got it</button>
      </footer>
    </div>
  </div>

  <footer class="app-footer">
    <small>created by Sam Gilliot</small>
  </footer>

  <script src="app.js"></script>
</body>
</html>
